{"version":3,"sources":["../../src/prollyfill.js"],"names":[],"mappings":";;;;;qBA0BwB,UAAU;;;;yBA1BZ,aAAa;;;;;AAGnC,SAAS,eAAe,CAAC,SAAS,EAAE;AAClC,SAAO,4BACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,EACvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CACxC,CAAC;CACH;;;AAGD,SAAS,mBAAmB,CAAC,SAAS,EAAE;AACtC,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;;AAErC,SAAO,4BACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,EACvC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC;;;AAGvC,MAAI,EAEJ,UAAS,KAAK,EAAE;AAAE,WAAO,OAAO,KAAK,KAAK,QAAQ,GAAG,SAAS,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;GAAE,EAC/F,UAAS,KAAK,EAAE;AAAE,WAAO,OAAO,KAAK,KAAK,QAAQ,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC;GAAE,CACzE,CAAC;CACH;;AAEc,SAAS,UAAU,CAAC,OAAO,EAAE;AAC1C,MAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,EAAE;AACvF,WAAO;GACR;;;AAGD,GAAC,SAAS,EAAE,YAAY,CAAC,CAAC,OAAO,CAAC,UAAS,MAAM,EAAE;AACjD,QAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC;AACxC,QAAI,CAAC,KAAK,CAAC,aAAa,EAAE;AACxB,WAAK,CAAC,aAAa,GAAG,eAAe,CAAC;KACvC;;AAED,QAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE;AAC5B,WAAK,CAAC,iBAAiB,GAAG,mBAAmB,CAAC;KAC/C;GACF,CAAC,CAAC;CACJ","file":"prollyfill.js","sourcesContent":["import TokenList from './tokenlist';\n\n// https://discourse.wicg.io/t/proposal-for-astokenlist-attr/1418/7\nfunction getTokenListFor(attribute) {\n  return TokenList(\n    this.getAttribute.bind(this, attribute),\n    this.setAttribute.bind(this, attribute)\n  );\n}\n\n// taking the _tokenListFor() idea further to allow access to IDReferenceList\nfunction getReferenceListFor(attribute) {\n  const _document = this.ownerDocument;\n\n  return TokenList(\n    this.getAttribute.bind(this, attribute),\n    this.setAttribute.bind(this, attribute),\n\n    // ignore supported()\n    null,\n\n    function(token) { return typeof token === 'string' ? _document.getElementById(token) : token; },\n    function(input) { return typeof input === 'string' ? input : input.id; }\n  );\n}\n\nexport default function prollyfill(context) {\n  if (!context || !context.document || !context.document.documentElement.appendChild.bind) {\n    return;\n  }\n\n  // in IE SVGElement does not properly inherit from Element\n  ['Element', 'SVGElement'].forEach(function(object) {\n    const proto = context[object].prototype;\n    if (!proto._tokenListFor) {\n      proto._tokenListFor = getTokenListFor;\n    }\n\n    if (!proto._referenceListFor) {\n      proto._referenceListFor = getReferenceListFor;\n    }\n  });\n}\n"]}